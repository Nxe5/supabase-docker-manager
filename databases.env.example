# =============================================================================
# DATABASES CONFIGURATION FILE
# =============================================================================
#
# Format: Pipe-delimited (|) entries, one per database
# Each entry contains 11 fields in this exact order:
#
#   1. Database Name          (e.g., "my-project")
#   2. Postgres Port          (e.g., "5432")
#   3. Kong HTTP Port         (e.g., "8000")
#   4. Kong HTTPS Port        (e.g., "8443")
#   5. Pooler Port            (e.g., "6543")
#   6. CPU Limit              (e.g., "2.0")
#   7. Memory Limit           (e.g., "2g")
#   8. Postgres Password      (secret)
#   9. JWT Secret             (secret)
#  10. ANON Key               (JWT token)
#  11. Service Role Key       (JWT token)
#
# Example:
#   my-db|5432|8000|8443|6543|2.0|2g|password|jwt-secret|anon-key|service-key
#
# IMPORTANT:
#   - Do NOT manually edit database entries - use ./db_manager.sh instead
#   - Global configuration variables (below) can be edited manually
#   - Comments starting with # are ignored
#
# =============================================================================

# Example database entry (copy this file to databases.env and use ./db_manager.sh add <name>)
# example-db|5432|8000|8443|6543|2.0|2g|your-postgres-password|your-jwt-secret|eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJhbm9uIiwKICAgICJpc3MiOiAic3VwYWJhc2UtZGVtbyIsCiAgICAiaWF0IjogMTY0MTc2OTIwMCwKICAgICJleHAiOiAxNzk5NTM1NjAwCn0.dc_X5iR_VP_qT0zsiyj_I_OZ2T9FtRU2BBNWN8Bu4GE|eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q

DASHBOARD_USERNAME=supabase
DASHBOARD_PASSWORD=this_password_is_insecure_and_should_be_updated

# Secrets (can be overridden per database)
SECRET_KEY_BASE=UpNVntn3cDxHJpq99YMc1T1AQgQpc8kfYTuRgBiYa15BLrx8etQoXz3gZv1/u2oq
VAULT_ENC_KEY=your-encryption-key-32-chars-min
PG_META_CRYPTO_KEY=your-encryption-key-32-chars-min

# Database defaults
POSTGRES_HOST=db
POSTGRES_DB=postgres

# Supavisor defaults
SUPAVISOR_DEFAULT_POOL_SIZE=20
SUPAVISOR_MAX_CLIENT_CONNECTIONS=100

# Storage defaults
STORAGE_BACKEND=file
STORAGE_FILE_SIZE_LIMIT=52428800
STORAGE_FILE_S3_BUCKET=
STORAGE_FILE_S3_REGION=
STORAGE_FILE_S3_ENDPOINT=
STORAGE_FILE_S3_FORCE_PATH_STYLE=false

# Auth defaults
AUTH_EXTERNAL_EMAIL_ENABLED=true
AUTH_EXTERNAL_PHONE_ENABLED=true
AUTH_SMS_PROVIDER=twilio
AUTH_SMS_TWILIO_ACCOUNT_SID=
AUTH_SMS_TWILIO_AUTH_TOKEN=
AUTH_SMS_TWILIO_MESSAGE_SERVICE_SID=

# Email defaults
SMTP_ADMIN_EMAIL=admin@example.com
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_SENDER_NAME=Supabase

# Analytics defaults
ANALYTICS_ENABLED=false
ANALYTICS_BACKEND=postgres
ANALYTICS_POSTGRES_HOST=db
ANALYTICS_POSTGRES_PORT=5432
ANALYTICS_POSTGRES_DB=postgres

# Functions defaults
FUNCTIONS_PATH=/functions
FUNCTIONS_NPM_REGISTRY=https://registry.npmjs.org/

# Realtime defaults
REALTIME_ENABLED=true
REALTIME_HOST=0.0.0.0
REALTIME_PORT=4000

# Vector defaults
VECTOR_ENABLED=true
VECTOR_HOST=0.0.0.0
VECTOR_PORT=5433

# Logging defaults
LOG_LEVEL=info
LOG_FORMAT=json

# API defaults
API_URL=http://localhost:8000
API_EXTERNAL_URL=http://localhost:8000

# Studio defaults
STUDIO_PORT=3000
STUDIO_API_URL=http://localhost:8000

# Inbucket defaults (for email testing)
INBUCKET_ENABLED=true
INBUCKET_PORT=54324
INBUCKET_SMTP_PORT=54325
INBUCKET_POP3_PORT=54326

# Kong defaults
KONG_HTTP_PORT=8000
KONG_HTTPS_PORT=8443

# Postgres defaults
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-super-secret-and-long-postgres-password

# Pooler defaults
POOLER_PORT=6543
POOLER_MODE=transaction
POOLER_DEFAULT_POOL_SIZE=20
POOLER_MAX_CLIENT_CONNECTIONS=100

# Logflare defaults
LOGFLARE_API_KEY=your-super-secret-and-long-logflare-key
LOGFLARE_URL=http://localhost:4000
LOGFLARE_BACKEND_API_KEY=your-super-secret-and-long-logflare-key-backend
LOGFLARE_PRIVATE_ACCESS_TOKEN=your-super-secret-and-long-logflare-key-private

DOCKER_SOCKET_LOCATION=/var/run/docker.sock

GOOGLE_PROJECT_ID=GOOGLE_PROJECT_ID
GOOGLE_PROJECT_NUMBER=GOOGLE_PROJECT_NUMBER

IMGPROXY_ENABLE_WEBP_DETECTION=true

OPENAI_API_KEY=

